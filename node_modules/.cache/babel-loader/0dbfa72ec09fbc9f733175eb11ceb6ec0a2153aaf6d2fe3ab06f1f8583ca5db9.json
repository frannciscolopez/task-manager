{"ast":null,"code":"import { saveAs } from 'file-saver';\nconst JSON_FILENAME = 'tasks.json';\nconst TASKS = 'tasks';\nconst CURRENT_ID = 'currentId';\nconst saveTasksToJsonFile = tasks => {\n  try {\n    const jsonTasks = JSON.stringify(tasks, null, 2);\n    localStorage.setItem(JSON_FILENAME, jsonTasks);\n  } catch (error) {\n    console.error('Error saving tasks:', error);\n  }\n};\nexport const addTaskToJson = task => {\n  const existingTasks = loadTasksFromJsonFile();\n  const updatedTasks = [...existingTasks, task];\n  saveTasksToJsonFile(updatedTasks);\n};\nexport function initializeTasksAndCurrentId(setTasks, setCurrentId) {\n  const storedTasks = JSON.parse(localStorage.getItem(TASKS)) || [];\n  const storedCurrentId = JSON.parse(localStorage.getItem(CURRENT_ID)) || 0;\n  setTasks(storedTasks);\n  setCurrentId(storedCurrentId);\n}\nexport function updateLocalStorage(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\nexport function addTask(newTask, currentId, tasks, setTasks, setCurrentId) {\n  newTask.id = currentId;\n  setCurrentId(currentId + 1);\n  const updatedTasks = [...tasks, newTask];\n  setTasks(updatedTasks);\n  updateLocalStorage(TASKS, updatedTasks);\n  updateLocalStorage(CURRENT_ID, currentId + 1);\n}\nexport function deleteTask(taskId, tasks, setTasks) {\n  const updatedTasks = tasks.filter(task => task.id !== parseInt(taskId));\n  setTasks(updatedTasks);\n  updateLocalStorage(TASKS, updatedTasks);\n}\nexport function updateTask(taskId, fieldToUpdate, newValue, tasks, setTasks) {\n  const taskIndex = tasks.findIndex(task => task.id === parseInt(taskId));\n  if (taskIndex === -1) {\n    console.error('Task not found with the provided ID.');\n    return;\n  }\n  const updatedTasks = [...tasks];\n  updatedTasks[taskIndex] = {\n    ...updatedTasks[taskIndex],\n    [fieldToUpdate]: newValue\n  };\n  setTasks(updatedTasks);\n  updateLocalStorage(TASKS, updatedTasks);\n}","map":{"version":3,"names":["saveAs","JSON_FILENAME","TASKS","CURRENT_ID","saveTasksToJsonFile","tasks","jsonTasks","JSON","stringify","localStorage","setItem","error","console","addTaskToJson","task","existingTasks","loadTasksFromJsonFile","updatedTasks","initializeTasksAndCurrentId","setTasks","setCurrentId","storedTasks","parse","getItem","storedCurrentId","updateLocalStorage","key","value","addTask","newTask","currentId","id","deleteTask","taskId","filter","parseInt","updateTask","fieldToUpdate","newValue","taskIndex","findIndex"],"sources":["/Users/franciscolopezmartinez/Desktop/task-manager-test/src/helper.js"],"sourcesContent":["import { saveAs } from 'file-saver';\n\nconst JSON_FILENAME = 'tasks.json';\n\nconst TASKS = 'tasks';\nconst CURRENT_ID = 'currentId';\n\nconst saveTasksToJsonFile = (tasks) => {\n  try {\n    const jsonTasks = JSON.stringify(tasks, null, 2);\n    localStorage.setItem(JSON_FILENAME, jsonTasks);\n  } catch (error) {\n    console.error('Error saving tasks:', error);\n  }\n};\n\nexport const addTaskToJson = (task) => {\n  const existingTasks = loadTasksFromJsonFile();\n  const updatedTasks = [...existingTasks, task];\n  saveTasksToJsonFile(updatedTasks);\n};\n\nexport function initializeTasksAndCurrentId(setTasks, setCurrentId) {\n    const storedTasks = JSON.parse(localStorage.getItem(TASKS)) || [];\n    const storedCurrentId = JSON.parse(localStorage.getItem(CURRENT_ID)) || 0;\n    setTasks(storedTasks);\n    setCurrentId(storedCurrentId);\n  }\n  \n  export function updateLocalStorage(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n  \n  export function addTask(\n    newTask,\n    currentId,\n    tasks,\n    setTasks,\n    setCurrentId\n  ) {\n    newTask.id = currentId;\n    setCurrentId(currentId + 1);\n  \n    const updatedTasks = [...tasks, newTask];\n    setTasks(updatedTasks);\n  \n    updateLocalStorage(TASKS, updatedTasks);\n    updateLocalStorage(CURRENT_ID, currentId + 1);\n  }\n  \n  export function deleteTask(taskId, tasks, setTasks) {\n    const updatedTasks = tasks.filter((task) => task.id !== parseInt(taskId));\n    setTasks(updatedTasks);\n    updateLocalStorage(TASKS, updatedTasks);\n  }\n  \n  export function updateTask(\n    taskId,\n    fieldToUpdate,\n    newValue,\n    tasks,\n    setTasks\n  ) {\n    const taskIndex = tasks.findIndex((task) => task.id === parseInt(taskId));\n  \n    if (taskIndex === -1) {\n      console.error('Task not found with the provided ID.');\n      return;\n    }\n  \n    const updatedTasks = [...tasks];\n    updatedTasks[taskIndex] = {\n      ...updatedTasks[taskIndex],\n      [fieldToUpdate]: newValue,\n    };\n  \n    setTasks(updatedTasks);\n    updateLocalStorage(TASKS, updatedTasks);\n  }\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}