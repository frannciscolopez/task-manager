{"ast":null,"code":"import _defineProperty from\"/Users/franciscolopezmartinez/Desktop/task-manager-test/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _toConsumableArray from\"/Users/franciscolopezmartinez/Desktop/task-manager-test/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/franciscolopezmartinez/Desktop/task-manager-test/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";var JSON_FILENAME='tasks.json';var TASKS='tasks';var CURRENT_ID='currentId';export var loadTasksFromJsonFile=function loadTasksFromJsonFile(){try{var jsonTasks=localStorage.getItem(JSON_FILENAME);console.log(jsonTasks);return jsonTasks?JSON.parse(jsonTasks):[];}catch(error){console.error('Error loading tasks:',error);return[];}};var saveTasksToJsonFile=function saveTasksToJsonFile(tasks){try{var jsonTasks=JSON.stringify(tasks);localStorage.setItem(JSON_FILENAME,jsonTasks);}catch(error){console.error('Error saving tasks:',error);}};export var addTaskToJson=function addTaskToJson(task){var existingTasks=loadTasksFromJsonFile();var taskId=existingTasks.length;var newTask=_objectSpread(_objectSpread({},task),{},{id:taskId});var updatedTasks=[].concat(_toConsumableArray(existingTasks),[newTask]);saveTasksToJsonFile(updatedTasks);};// Remove a task from JSON file by task ID\nexport var removeTaskFromJson=function removeTaskFromJson(taskId){var existingTasks=loadTasksFromJsonFile();var updatedTasks=existingTasks.filter(function(task){return task.id!==taskId;});console.log(\"updatedTasks: \",updateTask);saveTasksToJsonFile(updatedTasks);};// Update a task in JSON file by task ID\nexport var updateTaskFieldInJson=function updateTaskFieldInJson(taskId,fieldToUpdate,updatedValue){var existingTasks=loadTasksFromJsonFile();var updatedTasks=existingTasks.map(function(task){if(task.id===taskId){return _objectSpread(_objectSpread({},task),{},_defineProperty({},fieldToUpdate,updatedValue));}return task;});saveTasksToJsonFile(updatedTasks);};export function initializeTasksAndCurrentId(setTasks,setCurrentId){var storedTasks=JSON.parse(localStorage.getItem(TASKS))||[];var storedCurrentId=JSON.parse(localStorage.getItem(CURRENT_ID))||0;setTasks(storedTasks);setCurrentId(storedCurrentId);}export function updateLocalStorage(key,value){localStorage.setItem(key,JSON.stringify(value));}export function addTask(newTask,currentId,tasks,setTasks,setCurrentId){newTask.id=currentId;setCurrentId(currentId+1);var updatedTasks=[].concat(_toConsumableArray(tasks),[newTask]);setTasks(updatedTasks);updateLocalStorage(TASKS,updatedTasks);updateLocalStorage(CURRENT_ID,currentId+1);}export function deleteTask(taskId,tasks,setTasks){var updatedTasks=tasks.filter(function(task){return task.id!==parseInt(taskId);});setTasks(updatedTasks);updateLocalStorage(TASKS,updatedTasks);}export function updateTask(taskId,fieldToUpdate,newValue,tasks,setTasks){var taskIndex=tasks.findIndex(function(task){return task.id===parseInt(taskId);});if(taskIndex===-1){console.error('Task not found with the provided ID.');return;}var updatedTasks=_toConsumableArray(tasks);updatedTasks[taskIndex]=_objectSpread(_objectSpread({},updatedTasks[taskIndex]),{},_defineProperty({},fieldToUpdate,newValue));setTasks(updatedTasks);updateLocalStorage(TASKS,updatedTasks);}","map":{"version":3,"names":["JSON_FILENAME","TASKS","CURRENT_ID","loadTasksFromJsonFile","jsonTasks","localStorage","getItem","console","log","JSON","parse","error","saveTasksToJsonFile","tasks","stringify","setItem","addTaskToJson","task","existingTasks","taskId","length","newTask","_objectSpread","id","updatedTasks","concat","_toConsumableArray","removeTaskFromJson","filter","updateTask","updateTaskFieldInJson","fieldToUpdate","updatedValue","map","_defineProperty","initializeTasksAndCurrentId","setTasks","setCurrentId","storedTasks","storedCurrentId","updateLocalStorage","key","value","addTask","currentId","deleteTask","parseInt","newValue","taskIndex","findIndex"],"sources":["/Users/franciscolopezmartinez/Desktop/task-manager-test/src/helper.js"],"sourcesContent":["const JSON_FILENAME = 'tasks.json';\n\nconst TASKS = 'tasks';\nconst CURRENT_ID = 'currentId';\n\nexport const loadTasksFromJsonFile = () => {\n  try {\n    const jsonTasks = localStorage.getItem(JSON_FILENAME);\n    console.log(jsonTasks);\n    return jsonTasks ? JSON.parse(jsonTasks) : [];\n  } catch (error) {\n    console.error('Error loading tasks:', error);\n    return [];\n  }\n};\n\nconst saveTasksToJsonFile = (tasks) => {\n  try {\n    const jsonTasks = JSON.stringify(tasks);\n    localStorage.setItem(JSON_FILENAME, jsonTasks);\n  } catch (error) {\n    console.error('Error saving tasks:', error);\n  }\n};\n\nexport const addTaskToJson = (task) => {\n  const existingTasks = loadTasksFromJsonFile();\n  const taskId = existingTasks.length;\n\n  const newTask = {\n    ...task,\n    id: taskId,\n  };\n\n  const updatedTasks = [...existingTasks, newTask];\n\n  saveTasksToJsonFile(updatedTasks);\n};\n\n// Remove a task from JSON file by task ID\nexport const removeTaskFromJson = (taskId) => {\n  const existingTasks = loadTasksFromJsonFile();\n  const updatedTasks = existingTasks.filter((task) => task.id !== taskId);\n  console.log(\"updatedTasks: \" ,updateTask);\n  saveTasksToJsonFile(updatedTasks);\n};\n\n// Update a task in JSON file by task ID\nexport const updateTaskFieldInJson = (taskId, fieldToUpdate, updatedValue) => {\n  const existingTasks = loadTasksFromJsonFile();\n  const updatedTasks = existingTasks.map((task) => {\n    if (task.id === taskId) {\n      return {\n        ...task,\n        [fieldToUpdate]: updatedValue,\n      };\n    }\n    return task;\n  });\n  saveTasksToJsonFile(updatedTasks);\n};\n\nexport function initializeTasksAndCurrentId(setTasks, setCurrentId) {\n    const storedTasks = JSON.parse(localStorage.getItem(TASKS)) || [];\n    const storedCurrentId = JSON.parse(localStorage.getItem(CURRENT_ID)) || 0;\n    setTasks(storedTasks);\n    setCurrentId(storedCurrentId);\n  }\n  \n  export function updateLocalStorage(key, value) {\n    localStorage.setItem(key, JSON.stringify(value));\n  }\n  \n  export function addTask(\n    newTask,\n    currentId,\n    tasks,\n    setTasks,\n    setCurrentId\n  ) {\n    newTask.id = currentId;\n    setCurrentId(currentId + 1);\n  \n    const updatedTasks = [...tasks, newTask];\n    setTasks(updatedTasks);\n  \n    updateLocalStorage(TASKS, updatedTasks);\n    updateLocalStorage(CURRENT_ID, currentId + 1);\n  }\n  \n  export function deleteTask(taskId, tasks, setTasks) {\n    const updatedTasks = tasks.filter((task) => task.id !== parseInt(taskId));\n    setTasks(updatedTasks);\n    updateLocalStorage(TASKS, updatedTasks);\n  }\n  \n  export function updateTask(\n    taskId,\n    fieldToUpdate,\n    newValue,\n    tasks,\n    setTasks\n  ) {\n    const taskIndex = tasks.findIndex((task) => task.id === parseInt(taskId));\n  \n    if (taskIndex === -1) {\n      console.error('Task not found with the provided ID.');\n      return;\n    }\n  \n    const updatedTasks = [...tasks];\n    updatedTasks[taskIndex] = {\n      ...updatedTasks[taskIndex],\n      [fieldToUpdate]: newValue,\n    };\n  \n    setTasks(updatedTasks);\n    updateLocalStorage(TASKS, updatedTasks);\n  }\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}